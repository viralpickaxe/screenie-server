function notification_show(i,o,t){0==$(".notification").length?$("body").prepend($('<div class="notification"></div>')):clearTimeout(NotificationTimeout);var n=$(".notification"),t=t||3e3;n.html(i),n.removeClass("success error").addClass(o).fadeIn(),window.NotificationTimeout=setTimeout(function(){notification_hide()},t)}function notification_hide(){var i=$(".notification");i.fadeOut(function(){i.remove()})}$(document).ready(function(){$(".js-createscreenshot").find(".js-url").focus()}),$(".js-createscreenshot").on("submit",function(){var i=$(this),o=i.find(".js-url"),t=i.find(".js-btn"),n=t.html();return o.prop("disabled",!0),t.html("Q-ing").prop("disabled",!0),$.ajax({type:"POST",data:JSON.stringify({url:o.val()}),contentType:"application/json",url:"/screenshot/",success:function(e){e.success?(o.val("").prop("disabled",!1),t.html(n).prop("disabled",!1),i.find(".viewlink").prop("href",e.imgurl).show()):(o.prop("disabled",!1),t.html(n).prop("disabled",!1),notification_show(e.msg,"error",5e3))}}),!1});